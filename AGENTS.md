# Руководство по репозиторию

## Требование языка общения
Во всех ответах ассистентов и во всей документации необходимо использовать русский язык. Исключения допускаются только для фрагментов кода, команд, путей и других артефактов, которые по своей природе остаются на английском или если есть требование в задании использовать английский язык для каких-либо документов.

## Структура проекта и организация модулей
Simple Video Slicer — настольное приложение на PySide6. Исполняемый пакет в `src/video_slicer/` разделён на модули: `core` отвечает за оркестрацию FFmpeg и логику обработки, `ui` содержит виджеты и диалоги, `models` описывает объекты данных, а `utils` хранит общие вспомогательные функции. Точки входа CLI находятся в `main.py`, а переиспользуемые ресурсы располагаются рядом с модулями, которые их используют. Автоматические тесты находятся в `tests/` и повторяют структуру исходников. Справочная документация лежит в `docs/`, а артефакты PyInstaller и релизные сборки — в `build/` и `dist/`; не добавляйте сгенерированные бинарные файлы в репозиторий, если только не готовите релиз.

## Команды сборки, тестирования и разработки
- `uv sync` устанавливает зафиксированные зависимости из `pyproject.toml` и `uv.lock`.
- `uv pip install -e .[dev]` готовит редактируемую среду с дополнительными инструментами для lint и тестов.
- `uv run svs` запускает приложение из исходников для ручного тестирования нового поведения.
- `uv run pytest` выполняет автоматический набор тестов в `tests/`.
- `uv run black src tests` форматирует Python-модули.
- `uv run ruff check src tests` проверяет стиль; `uv run ruff fix` применяйте только для простых автоправок, которые вы просмотрели.

## Стиль кодирования и соглашения об именовании
Используйте настройки Black по умолчанию (отступ 4 пробела, строки до 88 символов) и добавляйте аннотации типов в публичных функциях. Файлы и модули называйте в `snake_case`, классы — в `PascalCase`, а функции, сигналы и слоты — глагольными именами в `snake_case`. Пользовательские строки выносите в `ui/translations.py`, а Qt-ресурсы храните рядом с виджетами, которые их используют. Перед пушем всегда запускайте Black и Ruff, чтобы изменения касались только логики.
Подробно описывайте функционал каждого файла с кодом в заголовочной части и документируйте каждую функцию, класс, метод или важное свойство/переменную.  

## Рекомендации по тестированию
Набор тестов строится на Pytest; называйте файлы тестов в формате `test_*.py` и размещайте их в `tests/` рядом с соответствующими модулями. Переиспользуйте фикстуры из `tests/conftest.py`, чтобы изолировать вызовы FFmpeg, и мокайте внешние процессы для детерминированности. Добавляйте покрытие для нового поведения перед рефакторингами и удостоверяйтесь, что `uv run pytest` проходит локально и в CI.

## Рекомендации по коммитам и pull request
Сообщения коммитов должны быть на английском языке, короткие и в повелительном наклонении (`Использовать встроенный logo.ico`, `Исправить описание логотипа`). Убирайте шумные промежуточные коммиты перед ревью. Pull request должен кратко описывать цель изменений, ссылаться на связанные задачи и включать скриншоты или записи экрана при правках UI. Фиксируйте вручную проведённое тестирование (ОС, версия FFmpeg) и подтверждайте запуск `uv run pytest`, `uv run black` и `uv run ruff check`. Вовремя предупреждайте мейнтейнеров о правках, влияющих на релиз, чтобы согласовать упаковку. 
Всегда проверяй ветку в которой работаешь перед началом работы по изменению/добавлению/удалению каких-либо файлов, если это master или main предлагай сделать другую рабочую ветку, например dev.
До начала работы надо проверять, есть ли незакомиченные изменения и предлагать их сохранить.

